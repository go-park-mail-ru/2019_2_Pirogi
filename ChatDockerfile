FROM golang:alpine
RUN mkdir /cinsear
RUN mkdir -p /log
WORKDIR /cinsear
COPY . .
WORKDIR /cinsear/cmd/chat
RUN go build -mod=vendor -o chat .

WORKDIR /cinsear/cmd/chatAdmin
RUN go build -mod=vendor -o chatAdmin .

WORKDIR /cinsear
CMD ["/cinsear/cmd/chat/chat"]
EXPOSE 8080
EXPOSE 9000